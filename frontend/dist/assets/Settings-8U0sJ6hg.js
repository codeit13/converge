import{k as U,ao as ve,D as C,J as he,j as b,o as c,A as q,ap as be,c as p,i as A,F as $,l as ye,q as we,Y as Ve,s as fe,w as n,v as F,e as k,y as s,Z as ke,h as pe,P as me,L as $e,a5 as je,a6 as Se,aq as Pe,a4 as Ee,d as r,n as V,M as le,r as Ce,f as u,g as h,t as j,ar as qe,as as Ae,at as Be,a as De,b as B,au as oe,av as re,aw as Me}from"./index-BEXXmzFv.js";import{a as D,_ as M}from"./CardContent-CROZv9TU.js";import{_ as N}from"./CardDescription-CDStBNGv.js";import{a as I,_ as x}from"./CardTitle-eiU1mWOv.js";import{_ as S}from"./Input-CqZB8EJL.js";import{_ as O}from"./Label-T96GMOLp.js";import{_ as Ne,a as ne,b as de,c as Ie}from"./TabsTrigger-DGMSg8NQ.js";import{u as xe,_ as Oe}from"./Select-54bKIvxi.js";import{_ as Ue}from"./Textarea-a3Nx4Io8.js";import{_ as Fe,a as Re,b as Te,c as Le}from"./SelectValue-Bk171Di9.js";import{_ as Ge}from"./SelectGroup-DMAtfhZ4.js";import"./clamp-Bivrka6k.js";const ue=U({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(a){const e=a,{primitiveElement:t,currentElement:i}=ve(),l=C(()=>e.checked??e.value);return he(l,(o,d)=>{if(!i.value)return;const m=i.value,v=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(v,"value").set;if(w&&o!==d){const f=new Event("input",{bubbles:!0}),P=new Event("change",{bubbles:!0});w.call(m,o),m.dispatchEvent(f),m.dispatchEvent(P)}}),(o,d)=>(c(),b(be,q({ref_key:"primitiveElement",ref:t},{...e,...o.$attrs},{as:"input"}),null,16))}}),ze=U({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(a){const e=a,t=C(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),i=C(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((l,o)=>typeof l=="object"?Object.entries(l).map(([d,m])=>({name:`[${e.name}][${o}][${d}]`,value:m})):{name:`[${e.name}][${o}]`,value:l}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([l,o])=>({name:`[${e.name}][${l}]`,value:o})):[]);return(l,o)=>t.value?(c(),b(ue,q({key:l.name},{...e,...l.$attrs},{name:l.name,value:l.value}),null,16,["name","value"])):(c(!0),p($,{key:1},A(i.value,d=>(c(),b(ue,q({key:d.name,ref_for:!0},{...e,...l.$attrs},{name:d.name,value:d.value}),null,16,["name","value"]))),128))}}),[Ze,He]=ye("SwitchRoot"),Ke=U({__name:"SwitchRoot",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean},id:{},value:{default:"on"},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(a,{emit:e}){const t=a,i=e,{disabled:l}=we(t),o=Ve(t,"modelValue",i,{defaultValue:t.defaultValue,passive:t.modelValue===void 0});function d(){l.value||(o.value=!o.value)}const{forwardRef:m,currentElement:v}=fe(),y=xe(v),w=C(()=>{var f;return t.id&&v.value?(f=document.querySelector(`[for="${t.id}"]`))==null?void 0:f.innerText:void 0});return He({modelValue:o,toggleCheck:d,disabled:l}),(f,P)=>(c(),b(s(me),q(f.$attrs,{id:f.id,ref:s(m),role:"switch",type:f.as==="button"?"button":void 0,value:f.value,"aria-label":f.$attrs["aria-label"]||w.value,"aria-checked":s(o),"aria-required":f.required,"data-state":s(o)?"checked":"unchecked","data-disabled":s(l)?"":void 0,"as-child":f.asChild,as:f.as,disabled:s(l),onClick:d,onKeydown:ke(pe(d,["prevent"]),["enter"])}),{default:n(()=>[F(f.$slots,"default",{modelValue:s(o)}),s(y)&&f.name?(c(),b(s(ze),{key:0,type:"checkbox",name:f.name,disabled:s(l),required:f.required,value:f.value,checked:!!s(o)},null,8,["name","disabled","required","value","checked"])):k("",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Je=U({__name:"SwitchThumb",props:{asChild:{type:Boolean},as:{default:"span"}},setup(a){const e=Ze();return fe(),(t,i)=>{var l;return c(),b(s(me),{"data-state":(l=s(e).modelValue)!=null&&l.value?"checked":"unchecked","data-disabled":s(e).disabled.value?"":void 0,"as-child":t.asChild,as:t.as},{default:n(()=>[F(t.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}});/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=$e("InfoIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Qe={__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1},skipDelayDuration:{type:Number,required:!1},disableHoverableContent:{type:Boolean,required:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1}},setup(a){const e=a;return(t,i)=>(c(),b(s(Pe),je(Se(e)),{default:n(()=>[F(t.$slots,"default")]),_:3},16))}},We={__name:"Switch",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(a,{emit:e}){const t=a,i=e,l=C(()=>{const{class:d,...m}=t;return m}),o=Ee(l,i);return(d,m)=>(c(),b(s(Ke),q(s(o),{class:s(le)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t.class)}),{default:n(()=>[r(s(Je),{class:V(s(le)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"))},{default:n(()=>[F(d.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}},Xe={key:1,class:"relative space-y-1.5"},_e={key:0,class:"text-xs text-destructive block"},et={key:2,class:"w-full space-y-4 mt-2 rounded-lg border border-border/50 p-4"},tt={key:3,class:"relative space-y-1.5"},at={key:2,class:"text-xs text-destructive block"},st={key:4,class:"relative w-full flex flex-col gap-2"},it={key:0,class:"text-xs text-destructive block"},lt={key:5,class:"relative flex items-center gap-3"},ot={key:0,class:"text-xs text-destructive block"},rt={name:"DynamicSettingField",props:{modelValue:{required:!0},config:{type:Object,required:!0,validator(a){return a&&typeof a=="object"}},parent:{type:Object,default:null},isNested:{type:Boolean,default:!1}},data(){return{validationError:"",nestedValidationErrors:{}}},computed:{fieldId(){var a,e;return`setting-${(e=(a=this.config)==null?void 0:a.label)==null?void 0:e.toLowerCase().replace(/\s+/g,"-")}`},hasError(){return!!this.validationError||Object.keys(this.nestedValidationErrors).length>0},internalValue:{get(){var a,e,t;return((a=this.config)==null?void 0:a.type)==="object"&&((e=this.config)!=null&&e.fields)?this.modelValue??{}:this.modelValue??((t=this.config)==null?void 0:t.value)},set(a){var t,i,l;const e=this.validateValue(a,(t=this.config)==null?void 0:t.validations);if(e===!0)if(this.validationError="",((i=this.config)==null?void 0:i.type)==="object"&&((l=this.config)!=null&&l.fields)){const o={...this.modelValue};Object.entries(a).forEach(([d,m])=>{var v;(v=this.config.fields[d])!=null&&v.active&&(o[d]=m)}),this.$emit("update:modelValue",o)}else this.$emit("update:modelValue",a);else this.validationError=e}},fieldValidationError(){var a;return((a=this.config)==null?void 0:a.type)==="object"?Object.values(this.nestedValidationErrors)[0]||"":this.validationError}},methods:{formatLabel(a){return a.split(/(?=[A-Z])/).join(" ").toLowerCase().replace(/^\w/,e=>e.toUpperCase())},getNestedDescription(a){var e,t;return((t=(e=this.config.fields)==null?void 0:e[a])==null?void 0:t.description)||""},updateFieldValue(a,e){if(this.config.type==="object"&&this.config.fields){const t=this.config.fields[a];if(!(t!=null&&t.active))return;const i=this.validateValue(e,t.validations);if(i===!0){this.nestedValidationErrors[a]="";const l={...this.modelValue??{}};l[a]=e,this.$emit("update:modelValue",l)}else this.nestedValidationErrors[a]=i}},validateValue(a,e){var y,w;if(!e)return!0;const{required:t,min:i,max:l,pattern:o,custom:d,type:m,enum:v}=e;if(t&&(a==null||a===""))return"This field is required";if(!t&&(a==null||a===""))return!0;if(((y=this.config)==null?void 0:y.type)==="select"&&v&&!v.includes(a))return"Please select a valid option";if(((w=this.config)==null?void 0:w.type)==="number"){const f=Number(a);if(isNaN(f))return"Must be a valid number";if(i!==void 0&&f<i)return`Value must be at least ${i}`;if(l!==void 0&&f>l)return`Value must be at most ${l}`}if(o&&typeof a=="string")try{if(!new RegExp(o).test(a))return"Invalid format"}catch{return console.error("Invalid regex pattern:",o),"Invalid format"}if(d&&typeof d=="function")try{const f=d(a);if(f!==!0)return f||"Invalid value"}catch(f){return console.error("Custom validation error:",f),"Validation error"}return!0}},watch:{modelValue:{immediate:!0,handler(a){const e=this.validateValue(a);this.validationError=e===!0?"":e}}}},ce=Object.assign(rt,{setup(a){return(e,t)=>{var l,o,d,m,v,y,w,f,P,R,T,L,G,z,Z,H,K,J,Y,Q,W,X,_,ee,te,ae,se;const i=Ce("DynamicSettingField",!0);return c(),p("div",{class:V(["setting-field-wrapper mb-6 relative",{"w-full md:w-[50%] ml-0 md:ml-1":a.parent,"border-l-2 border-primary/10 pl-4 py-2":a.isNested}])},[u("div",{class:V(["flex w-full",{"flex-row gap-4 items-center justify-between":((l=a.config)==null?void 0:l.type)!="object","flex-col gap-0.5":((o=a.config)==null?void 0:o.type)=="object"}])},[u("div",{class:V(["flex items-center gap-3",{"min-w-[180px]":((d=a.config)==null?void 0:d.type)!="object","w-full mb-2":((m=a.config)==null?void 0:m.type)=="object"}])},[r(s(O),{class:"block capitalize text-sm font-medium",for:e.fieldId},{default:n(()=>[h(j(e.formatLabel(a.config.label||"")),1)]),_:1},8,["for"]),(v=a.config)!=null&&v.description?(c(),b(s(Qe),{key:0},{default:n(()=>[r(s(qe),null,{default:n(()=>[r(s(Ae),null,{default:n(()=>[r(s(Ye),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),r(s(Be),null,{default:n(()=>{var g;return[u("p",null,j((g=a.config)==null?void 0:g.description),1)]}),_:1})]),_:1})]),_:1})):k("",!0)],2),u("div",{class:V(["flex-1 space-y-2",{"w-fit min-w-[140px]":((y=a.config)==null?void 0:y.type)!="object","w-full":((w=a.config)==null?void 0:w.type)=="object"}])},[((f=a.config)==null?void 0:f.type)==="boolean"?(c(),p("div",{key:0,class:V(["flex items-center gap-3",{"justify-between":a.parent}])},[r(s(We),{id:e.fieldId,modelValue:e.internalValue,"onUpdate:modelValue":t[0]||(t[0]=g=>e.internalValue=g),disabled:(P=a.config)==null?void 0:P.disabled,class:"data-[state=checked]:bg-primary"},null,8,["id","modelValue","disabled"])],2)):((R=a.config)==null?void 0:R.type)==="number"?(c(),p("div",Xe,[r(s(S),{id:e.fieldId,type:"number",modelValue:e.internalValue,"onUpdate:modelValue":t[1]||(t[1]=g=>e.internalValue=g),modelModifiers:{number:!0},min:(L=(T=a.config)==null?void 0:T.validations)==null?void 0:L.min,max:(z=(G=a.config)==null?void 0:G.validations)==null?void 0:z.max,step:((Z=a.config)==null?void 0:Z.step)||1,disabled:(H=a.config)==null?void 0:H.disabled,placeholder:(K=a.config)==null?void 0:K.placeholder,class:V(["w-full",{"border-destructive":e.hasError}])},null,8,["id","modelValue","min","max","step","disabled","placeholder","class"]),e.hasError?(c(),p("span",_e,j(e.validationError),1)):k("",!0)])):((J=a.config)==null?void 0:J.type)==="object"?(c(),p("div",et,[(c(!0),p($,null,A(a.config.fields,(g,E)=>{var ie;return c(),p($,{key:E},[g.active!==!1?(c(),b(i,{key:0,id:`${e.fieldId}-${E}`,modelValue:((ie=a.modelValue)==null?void 0:ie[E])??g.value,"onUpdate:modelValue":ge=>e.updateFieldValue(E,ge),config:{...g,label:e.formatLabel(E),active:g.active,description:g.description},parent:a.modelValue,isNested:!0},null,8,["id","modelValue","onUpdate:modelValue","config","parent"])):k("",!0)],64)}),128))])):((Y=a.config)==null?void 0:Y.type)==="text"||((Q=a.config)==null?void 0:Q.type)==="textarea"?(c(),p("div",tt,[((W=a.config)==null?void 0:W.type)==="text"?(c(),b(s(S),{key:0,id:e.fieldId,type:"text",modelValue:e.internalValue,"onUpdate:modelValue":t[2]||(t[2]=g=>e.internalValue=g),disabled:(X=a.config)==null?void 0:X.disabled,placeholder:(_=a.config)==null?void 0:_.placeholder,class:V(["w-full",{"border-destructive":e.hasError}])},null,8,["id","modelValue","disabled","placeholder","class"])):(c(),b(s(Ue),{key:1,id:e.fieldId,modelValue:e.internalValue,"onUpdate:modelValue":t[3]||(t[3]=g=>e.internalValue=g),disabled:(ee=a.config)==null?void 0:ee.disabled,placeholder:(te=a.config)==null?void 0:te.placeholder,rows:((ae=a.config)==null?void 0:ae.rows)||3,class:V(["w-full resize-none",{"border-destructive":e.hasError}])},null,8,["id","modelValue","disabled","placeholder","rows","class"])),e.hasError?(c(),p("span",at,j(e.validationError),1)):k("",!0)])):((se=a.config)==null?void 0:se.type)==="select"?(c(),p("div",st,[r(s(Oe),{modelValue:e.internalValue,"onUpdate:modelValue":t[4]||(t[4]=g=>e.internalValue=g),disabled:a.config.disabled},{default:n(()=>[r(s(Fe),{class:V(["w-full",{"border-destructive":e.hasError}])},{default:n(()=>[r(s(Re),{placeholder:a.config.placeholder||"Select an option"},null,8,["placeholder"])]),_:1},8,["class"]),r(s(Te),{class:"w-full"},{default:n(()=>[r(s(Ge),null,{default:n(()=>[(c(!0),p($,null,A(a.config.options,g=>(c(),b(s(Le),{key:g.value,value:g.value},{default:n(()=>[h(j(g.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","disabled"]),e.hasError?(c(),p("span",it,j(e.validationError),1)):k("",!0)])):(c(),p("div",lt,[r(s(S),{id:e.fieldId,type:"text",modelValue:e.internalValue,"onUpdate:modelValue":t[5]||(t[5]=g=>e.internalValue=g),disabled:a.config.disabled,placeholder:a.config.placeholder,class:V(["w-full",{"border-destructive":e.hasError}])},null,8,["id","modelValue","disabled","placeholder","class"]),e.hasError?(c(),p("span",ot,j(e.validationError),1)):k("",!0)]))],2)],2)],2)}}}),nt={class:"max-w-2xl mx-auto my-6 space-y-8"},dt={class:"space-y-4 mb-4"},ut={class:"space-y-2"},ct={class:"relative"},ft={key:0,class:"text-gray-500 hover:text-gray-700"},pt={key:1,class:"text-gray-500 hover:text-gray-700"},mt={class:"space-y-2"},gt={class:"relative"},vt={key:0,class:"text-gray-500 hover:text-gray-700"},ht={key:1,class:"text-gray-500 hover:text-gray-700"},bt={class:"space-y-2"},yt={class:"relative"},wt={key:0,class:"text-gray-500 hover:text-gray-700"},Vt={key:1,class:"text-gray-500 hover:text-gray-700"},kt={class:"space-y-4"},$t={class:"space-y-4"},jt={name:"Settings",data(){return{activeTab:"global",settingsConfig:{global:{theme:{type:"select",label:"Theme",dontSendToApi:!0,value:re(),options:[{label:"Light",value:"light"},{label:"Dark",value:"dark"},{label:"System",value:"system"}],description:"Choose your preferred theme",active:!0,validations:{required:!0,type:"string",enum:["light","dark","system"]},placeholder:"Select theme"},notifications:{type:"object",label:"Notifications",description:"Configure your notification preferences",active:!0,fields:{email:{type:"boolean",label:"Email",value:!0,description:"Receive email notifications",validations:{required:!0},active:!0},push:{type:"boolean",label:"Push",value:!1,description:"Receive push notifications",validations:{required:!0},active:!0},sms:{type:"boolean",label:"SMS",value:!1,description:"Receive SMS notifications",validations:{required:!0},active:!1}}}},project:{notifications:{type:"object",label:"Notifications",description:"Project-specific notification settings",active:!0,fields:{email:{type:"boolean",label:"Email",value:!0,description:"Project email notifications",validations:{required:!0},active:!0},push:{type:"boolean",label:"Push",value:!1,description:"Project push notifications",validations:{required:!0},active:!0},sms:{type:"boolean",label:"SMS",value:!1,description:"Project SMS notifications",validations:{required:!0},active:!1}}},data:{type:"object",label:"Additional Data",value:{},description:"Additional project data",active:!0,fields:{name:{type:"text",label:"Name",value:"",description:"Enter the name of the project",validations:{required:!0},active:!0},bio:{type:"text",label:"Bio",value:"",description:"Enter a description for the project",validations:{required:!0},active:!0}}}}},accountData:{currentPassword:"",newPassword:"",confirmPassword:""},passwordVisibility:{current:!1,new:!1,confirm:!1}}},computed:{...De("auth",["user"])},watch:{user:{handler(a){a&&this.loadSettings()},immediate:!0},"settingsConfig.global.theme.value"(a){Me(a)}},methods:{togglePasswordVisibility(a){this.passwordVisibility[a]=!this.passwordVisibility[a]},getSettingsValues(a){const e={};return Object.entries(this.settingsConfig[a]).forEach(([t,i])=>{!i.active||i.dontSendToApi||(i.type==="object"&&i.fields?(e[t]={},Object.entries(i.fields).forEach(([l,o])=>{o.active&&o.value!==void 0&&(e[t][l]=o.value)}),Object.keys(e[t]).length===0&&delete e[t]):i.value!==void 0&&(e[t]=i.value))}),e},loadSettings(){const a=this.user;a&&Object.keys(this.settingsConfig).forEach(e=>{var i,l;const t=e==="global"?a.settings:e==="project"?(l=(i=a.projects)==null?void 0:i.find(o=>{var d,m;return((m=(d=o.project)==null?void 0:d._id)==null?void 0:m.toString())===oe.toString()}))==null?void 0:l.settings:null;t&&Object.entries(this.settingsConfig[e]).forEach(([o,d])=>{if(o==="theme"){d.active=!0,d.value=t.theme||re();return}const m=t[o]!==void 0;d.active=m,m&&(d.type==="object"&&d.fields?Object.entries(d.fields).forEach(([v,y])=>{var f;const w=((f=t[o])==null?void 0:f[v])!==void 0;y.active=w,w&&(y.value=t[o][v])}):d.value=t[o])})})},getSettingValue(a,e){const t=this.settingsConfig[e][a];if(!t||!t.active)return null;if(t.type==="object"&&t.fields){const i={};return Object.entries(t.fields).forEach(([l,o])=>{o.active&&(i[l]=o.value)}),i}return t.value},setSettingValue(a,e,t){const i=this.settingsConfig[e][a];i&&(i.active=!0,i.type==="object"&&i.fields?Object.entries(t).forEach(([l,o])=>{const d=i.fields[l];d&&(d.active=!0,d.value=o)}):i.value=t,e==="global"?this.saveGlobalSettings():e==="project"&&this.saveProjectSettings())},async handleAccountSubmit(){var a,e;try{if(!this.accountData.currentPassword)throw new Error("Current password is required");if(!this.accountData.newPassword)throw new Error("New password is required");if(this.accountData.newPassword.length<8)throw new Error("Password must be at least 8 characters");if(this.accountData.newPassword!==this.accountData.confirmPassword)throw new Error("Passwords do not match");const t=await this.$store.dispatch("auth/updatePassword",{currentPassword:this.accountData.currentPassword,newPassword:this.accountData.newPassword,confirmPassword:this.accountData.confirmPassword});t!=null&&t.status&&(this.accountData={currentPassword:"",newPassword:"",confirmPassword:""})}catch(t){this.$store.dispatch("auth/showNotification",{type:"error",message:((e=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:e.message)||t.message})}},async saveGlobalSettings(){var a,e,t,i;try{const l=this.getSettingsValues("global");await this.$store.dispatch("auth/updateGlobalSettings",l),(a=this.user)!=null&&a.settings&&this.loadSettings()}catch(l){this.$store.dispatch("auth/showNotification",{type:"error",message:((i=(t=(e=l==null?void 0:l.response)==null?void 0:e.data)==null?void 0:t.error)==null?void 0:i.message)||"Failed to update global settings"})}},async saveProjectSettings(){var t,i,l,o,d;const a=this.getSettingsValues("project");await this.$store.dispatch("auth/updateProjectSettings",a);const e=(i=(t=this.user)==null?void 0:t.projects)==null?void 0:i.findIndex(m=>{var v,y;return((y=(v=m.project)==null?void 0:v._id)==null?void 0:y.toString())===oe.toString()});e!==-1&&(this.user.projects[e].settings=a),(d=(o=(l=this.user)==null?void 0:l.projects)==null?void 0:o[e])!=null&&d.settings&&this.loadSettings()},async handleDeleteAccount(){var e,t,i;if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{await this.$store.dispatch("auth/deleteAccount"),this.$store.dispatch("auth/showNotification",{type:"success",message:"Account deleted successfully"}),this.$router.push("/auth/login")}catch(l){this.$store.dispatch("auth/showNotification",{type:"error",message:((i=(t=(e=l==null?void 0:l.response)==null?void 0:e.data)==null?void 0:t.error)==null?void 0:i.message)||"Failed to delete account"})}}}},Ot=Object.assign(jt,{setup(a){return(e,t)=>(c(),p("div",nt,[r(s(Ie),{modelValue:e.activeTab,"onUpdate:modelValue":t[7]||(t[7]=i=>e.activeTab=i),class:"mb-8"},{default:n(()=>[r(s(Ne),{class:"w-full"},{default:n(()=>[r(s(ne),{value:"global",class:"px-4 py-2 w-full"},{default:n(()=>t[8]||(t[8]=[h(" Global Settings ")])),_:1}),r(s(ne),{value:"project",class:"px-4 py-2 w-full"},{default:n(()=>t[9]||(t[9]=[h(" App Settings ")])),_:1})]),_:1}),r(s(de),{value:"global",class:"space-y-6"},{default:n(()=>[r(s(D),{class:"mb-6"},{default:n(()=>[r(s(I),null,{default:n(()=>[r(s(x),null,{default:n(()=>t[10]||(t[10]=[h("Global Settings")])),_:1}),r(s(N),null,{default:n(()=>t[11]||(t[11]=[h(" Customize your global account settings. ")])),_:1})]),_:1}),r(s(M),{class:"flex flex-col"},{default:n(()=>[u("div",dt,[(c(!0),p($,null,A(e.settingsConfig.global,(i,l)=>(c(),p($,{key:l},[i.active!==!1?(c(),b(ce,{key:0,modelValue:e.getSettingValue(l,"global"),"onUpdate:modelValue":o=>e.setSettingValue(l,"global",o),config:i},null,8,["modelValue","onUpdate:modelValue","config"])):k("",!0)],64))),128))]),r(s(B),{variant:"outline",class:"ml-auto",loading:e.$store.state.isLoading,onClick:e.saveGlobalSettings},{default:n(()=>t[12]||(t[12]=[h(" Save Global Settings ")])),_:1},8,["loading","onClick"])]),_:1})]),_:1}),r(s(D),{class:"mb-6"},{default:n(()=>[r(s(I),null,{default:n(()=>[r(s(x),null,{default:n(()=>t[13]||(t[13]=[h("Account Security")])),_:1}),r(s(N),null,{default:n(()=>t[14]||(t[14]=[h(" Update your password and security settings. ")])),_:1})]),_:1}),r(s(M),null,{default:n(()=>[u("form",{onSubmit:t[6]||(t[6]=pe((...i)=>e.handleAccountSubmit&&e.handleAccountSubmit(...i),["prevent"])),class:"space-y-4 flex flex-col"},[u("div",ut,[r(s(O),{for:"currentPassword"},{default:n(()=>t[15]||(t[15]=[h("Current Password")])),_:1}),u("div",ct,[r(s(S),{id:"currentPassword",type:e.passwordVisibility.current?"text":"password",modelValue:e.accountData.currentPassword,"onUpdate:modelValue":t[0]||(t[0]=i=>e.accountData.currentPassword=i),class:"pr-10"},null,8,["type","modelValue"]),u("button",{type:"button",class:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:t[1]||(t[1]=i=>e.togglePasswordVisibility("current"))},[e.passwordVisibility.current?(c(),p("span",ft,t[16]||(t[16]=[u("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[u("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),u("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),u("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),u("line",{x1:"2",x2:"22",y1:"2",y2:"22"})],-1)]))):(c(),p("span",pt,t[17]||(t[17]=[u("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[u("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),u("circle",{cx:"12",cy:"12",r:"3"})],-1)])))])])]),u("div",mt,[r(s(O),{for:"newPassword"},{default:n(()=>t[18]||(t[18]=[h("New Password")])),_:1}),u("div",gt,[r(s(S),{id:"newPassword",type:e.passwordVisibility.new?"text":"password",modelValue:e.accountData.newPassword,"onUpdate:modelValue":t[2]||(t[2]=i=>e.accountData.newPassword=i),class:"pr-10"},null,8,["type","modelValue"]),u("button",{type:"button",class:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:t[3]||(t[3]=i=>e.togglePasswordVisibility("new"))},[e.passwordVisibility.new?(c(),p("span",vt,t[19]||(t[19]=[u("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[u("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),u("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),u("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),u("line",{x1:"2",x2:"22",y1:"2",y2:"22"})],-1)]))):(c(),p("span",ht,t[20]||(t[20]=[u("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[u("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),u("circle",{cx:"12",cy:"12",r:"3"})],-1)])))])])]),u("div",bt,[r(s(O),{for:"confirmPassword"},{default:n(()=>t[21]||(t[21]=[h("Confirm New Password")])),_:1}),u("div",yt,[r(s(S),{id:"confirmPassword",type:e.passwordVisibility.confirm?"text":"password",modelValue:e.accountData.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=i=>e.accountData.confirmPassword=i),class:"pr-10"},null,8,["type","modelValue"]),u("button",{type:"button",class:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:t[5]||(t[5]=i=>e.togglePasswordVisibility("confirm"))},[e.passwordVisibility.confirm?(c(),p("span",wt,t[22]||(t[22]=[u("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[u("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),u("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),u("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),u("line",{x1:"2",x2:"22",y1:"2",y2:"22"})],-1)]))):(c(),p("span",Vt,t[23]||(t[23]=[u("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[u("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),u("circle",{cx:"12",cy:"12",r:"3"})],-1)])))])])]),r(s(B),{type:"submit",loading:e.$store.state.isLoading},{default:n(()=>t[24]||(t[24]=[h(" Update Password ")])),_:1},8,["loading"])],32)]),_:1})]),_:1})]),_:1}),r(s(de),{value:"project",class:"space-y-6"},{default:n(()=>[r(s(D),{class:"mb-6"},{default:n(()=>[r(s(I),null,{default:n(()=>[r(s(x),null,{default:n(()=>t[25]||(t[25]=[h("App Settings")])),_:1}),r(s(N),null,{default:n(()=>t[26]||(t[26]=[h("Customize the settings specific to this app.")])),_:1})]),_:1}),r(s(M),null,{default:n(()=>[u("div",kt,[(c(!0),p($,null,A(e.settingsConfig.project,(i,l)=>(c(),p($,{key:l},[i.active!==!1?(c(),b(ce,{key:0,modelValue:e.getSettingValue(l,"project"),"onUpdate:modelValue":o=>e.setSettingValue(l,"project",o),config:i},null,8,["modelValue","onUpdate:modelValue","config"])):k("",!0)],64))),128))]),r(s(B),{variant:"outline",loading:e.$store.state.isLoading,onClick:e.saveProjectSettings},{default:n(()=>t[27]||(t[27]=[h(" Save App Settings ")])),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),r(s(D),{class:"mb-6"},{default:n(()=>[r(s(I),null,{default:n(()=>[r(s(x),null,{default:n(()=>t[28]||(t[28]=[h("Danger Zone")])),_:1}),r(s(N),null,{default:n(()=>t[29]||(t[29]=[h("Irreversible and destructive actions.")])),_:1})]),_:1}),r(s(M),null,{default:n(()=>[u("div",$t,[t[31]||(t[31]=u("p",{class:"text-sm text-muted-foreground"}," Once you delete your account, there is no going back. Please be certain. ",-1)),r(s(B),{variant:"destructive",class:"bg-red-600 hover:bg-red-700",loading:e.$store.state.isLoading,onClick:e.handleDeleteAccount},{default:n(()=>t[30]||(t[30]=[h(" Delete Account ")])),_:1},8,["loading","onClick"])])]),_:1})]),_:1})]))}});export{Ot as default};
