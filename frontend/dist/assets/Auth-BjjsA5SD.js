import{m as T,a as u,b as t,d as i,w as r,V as h,Z as P,a3 as c,f as v,u as o,A as g,e as n,_ as f,a4 as V,a5 as G,o as d}from"./index-Bf1OaKc9.js";import{_ as y,a as b}from"./CardContent-Eq4jn9TP.js";import{_ as p}from"./Input-CQuuWjmS.js";import{_ as m}from"./Label-CWETHHVk.js";const k="/assets/auth-TS2t-6Wm.svg",O={class:"flex flex-col gap-6 h-screen"},E={class:"relative w-[85%] md:w-[50%] m-auto"},L={class:"flex flex-col gap-6"},N={class:"grid gap-2"},C={class:"grid gap-2"},I={class:"flex items-center"},$={class:"relative"},S={key:0,class:"text-gray-500 hover:text-gray-700"},A={key:1,class:"text-gray-500 hover:text-gray-700"},U={class:"grid grid-cols-1 gap-4"},B={class:"text-center text-sm"},M={class:"relative hidden bg-muted md:block"},R=["src"],j={class:"flex flex-col gap-6"},X={class:"grid gap-2"},z={class:"grid gap-2"},q={class:"flex items-center"},D={class:"relative"},F={key:0,class:"text-gray-500 hover:text-gray-700"},W={key:1,class:"text-gray-500 hover:text-gray-700"},Z={class:"grid grid-cols-1 gap-4"},H={class:"text-center text-sm"},J={class:"relative hidden bg-muted md:block"},K=["src"],Q={class:"flex flex-col gap-6"},Y={class:"grid gap-2"},_={class:"relative hidden bg-muted md:block"},ee=["src"],te={data(){return{isOneTapPromptEnabled:!0,authType:"LOGIN",loginEmail:"",loginPassword:"",registerName:"",registerEmail:"",registerPassword:"",forgotPasswordEmail:"",passwordVisibility:{login:!1,register:!1,forgot:!1}}},computed:{...T(["TOASTER_DATA"]),...T("auth",["isLoading","user"])},watch:{"$route.params.type":{handler(){var l;this.authType=((l=this.$route.params.type)==null?void 0:l.toUpperCase())||"LOGIN"},immediate:!0},user:{immediate:!0,handler(l){l&&this.$router.push("/")}}},mounted(){this.isOneTapPromptEnabled=!location.href.includes("localhost")},methods:{togglePasswordVisibility(l){this.passwordVisibility[l]=!this.passwordVisibility[l]},async oneTapGoogleLoginCallback(l){console.log(l),l.credential?(await this.$store.dispatch("auth/loginViaGoogle",{idToken:l.credential}),await this.$store.dispatch("auth/getUserProfile")):(await this.$store.dispatch("auth/loginViaGoogle",{code:l.code}),await this.$store.dispatch("auth/getUserProfile"))},async login(){try{this.loginEmail&&this.loginPassword&&(await this.$store.dispatch("auth/login",{email:this.loginEmail,password:this.loginPassword}),await this.$store.dispatch("auth/getUserProfile"))}catch(l){console.error(l)}},async register(){try{this.registerName&&this.registerEmail&&this.registerPassword&&(await this.$store.dispatch("auth/register",{name:this.registerName,email:this.registerEmail,password:this.registerPassword}),await this.$store.dispatch("auth/getUserProfile"))}catch(l){console.error(l)}},async forgotPassword(){try{this.forgotPasswordEmail&&await this.$store.dispatch("auth/forgotPassword",{email:this.forgotPasswordEmail})}catch(l){console.error(l)}}}},re=Object.assign(te,{__name:"Auth",setup(l){return(s,e)=>{const x=V("GoogleLogin"),w=P("motion");return d(),u("div",O,[t("div",E,[i(G,{"enter-active-class":"transition-all duration-200 cubic-bezier(0.4, 0, 0.2, 1)","leave-active-class":"transition-all duration-200 cubic-bezier(0.4, 0, 0.2, 1)",mode:"out-in"},{default:r(()=>[(d(),u("div",{key:s.authType},[h((d(),v(o(b),{class:"overflow-hidden w-full",initial:{opacity:0,y:s.authType==="LOGIN"?-40:40,scale:.1,rotateX:s.authType==="LOGIN"?"15deg":"-15deg"},enter:{opacity:1,y:0,scale:1,rotateX:"0deg",transition:{duration:600,ease:[.4,0,.2,1]}},leave:{opacity:0,y:s.authType==="LOGIN"?40:-40,scale:.1,rotateX:s.authType==="LOGIN"?"-10deg":"10deg",transition:{duration:600,ease:[.4,0,.2,1]}}},{default:r(()=>[i(o(y),{class:"grid p-0 md:grid-cols-2"},{default:r(()=>[t("form",{onSubmit:e[5]||(e[5]=g((...a)=>s.register&&s.register(...a),["prevent"])),class:"p-6 md:p-8"},[t("div",L,[e[22]||(e[22]=t("div",{class:"flex flex-col items-center text-center"},[t("h1",{class:"text-2xl font-bold"},"Create an account"),t("p",{class:"text-balance text-muted-foreground"}," Sign up to get started ")],-1)),t("div",N,[i(o(m),{for:"name"},{default:r(()=>e[14]||(e[14]=[n("Name")])),_:1}),i(o(p),{id:"register-name",type:"text",modelValue:s.registerName,"onUpdate:modelValue":e[0]||(e[0]=a=>s.registerName=a),placeholder:"john.agent",required:""},null,8,["modelValue"]),i(o(m),{for:"email"},{default:r(()=>e[15]||(e[15]=[n("Email")])),_:1}),i(o(p),{id:"register-email",type:"email",modelValue:s.registerEmail,"onUpdate:modelValue":e[1]||(e[1]=a=>s.registerEmail=a),placeholder:"agent@ai.com",required:""},null,8,["modelValue"])]),t("div",C,[t("div",I,[i(o(m),{for:"password"},{default:r(()=>e[16]||(e[16]=[n("Password")])),_:1})]),t("div",$,[i(o(p),{id:"register-password",modelValue:s.registerPassword,"onUpdate:modelValue":e[2]||(e[2]=a=>s.registerPassword=a),type:s.passwordVisibility.register?"text":"password",placeholder:"*************",class:"pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",class:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:e[3]||(e[3]=a=>s.togglePasswordVisibility("register"))},[s.passwordVisibility.register?(d(),u("span",S,e[17]||(e[17]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),t("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),t("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),t("line",{x1:"2",x2:"22",y1:"2",y2:"22"})],-1)]))):(d(),u("span",A,e[18]||(e[18]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1)])))])])]),i(o(f),{type:"submit",class:"w-full"},{default:r(()=>e[19]||(e[19]=[n(" Register ")])),_:1}),e[23]||(e[23]=t("div",{class:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border"},[t("span",{class:"relative z-10 bg-background px-2 text-muted-foreground"}," Or continue with ")],-1)),t("div",U,[i(x,{callback:s.oneTapGoogleLoginCallback,prompt:s.isOneTapPromptEnabled},{default:r(()=>[i(o(f),{variant:"outline",class:"w-full"},{default:r(()=>e[20]||(e[20]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[t("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z",fill:"currentColor"})],-1),n(" Continue with Google ")])),_:1})]),_:1},8,["callback","prompt"])]),t("div",B,[e[21]||(e[21]=n(" Already have an account? ")),t("a",{href:"#",class:"underline underline-offset-4",onClick:e[4]||(e[4]=g(a=>s.authType="LOGIN",["prevent"]))}," Login ")])])],32),t("div",M,[t("img",{src:o(k),alt:"Image",class:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.5]"},null,8,R)])]),_:1})]),_:1},8,["initial","leave"])),[[w],[c,s.authType=="REGISTER"]]),h((d(),v(o(b),{class:"overflow-hidden w-full",initial:{opacity:0,y:s.authType==="LOGIN"?-40:40,scale:.1,rotateX:s.authType==="LOGIN"?"15deg":"-15deg"},enter:{opacity:1,y:0,scale:1,rotateX:"0deg",transition:{duration:600,ease:[.4,0,.2,1]}},leave:{opacity:0,y:s.authType==="LOGIN"?40:-40,scale:.1,rotateX:s.authType==="LOGIN"?"-10deg":"10deg",transition:{duration:600,ease:[.4,0,.2,1]}}},{default:r(()=>[i(o(y),{class:"grid p-0 md:grid-cols-2"},{default:r(()=>[t("form",{onSubmit:e[11]||(e[11]=g((...a)=>s.login&&s.login(...a),["prevent"])),class:"p-6 md:p-8"},[t("div",j,[e[31]||(e[31]=t("div",{class:"flex flex-col items-center text-center"},[t("h1",{class:"text-2xl font-bold"},"Welcome back"),t("p",{class:"text-balance text-muted-foreground"}," Login to your account ")],-1)),t("div",X,[i(o(m),{for:"email"},{default:r(()=>e[24]||(e[24]=[n("Email")])),_:1}),i(o(p),{id:"login-email",type:"email",modelValue:s.loginEmail,"onUpdate:modelValue":e[6]||(e[6]=a=>s.loginEmail=a),placeholder:"agent@ai.com",required:""},null,8,["modelValue"])]),t("div",z,[t("div",q,[i(o(m),{for:"password"},{default:r(()=>e[25]||(e[25]=[n("Password")])),_:1}),t("a",{onClick:e[7]||(e[7]=g(a=>s.authType="FORGOT_PASSWORD",["prevent"])),class:"ml-auto cursor-pointer text-sm underline-offset-2 hover:underline"}," Forgot your password? ")]),t("div",D,[i(o(p),{id:"login-password",modelValue:s.loginPassword,"onUpdate:modelValue":e[8]||(e[8]=a=>s.loginPassword=a),type:s.passwordVisibility.login?"text":"password",placeholder:"*************",class:"pr-10",required:""},null,8,["modelValue","type"]),t("button",{type:"button",class:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:e[9]||(e[9]=a=>s.togglePasswordVisibility("login"))},[s.passwordVisibility.login?(d(),u("span",F,e[26]||(e[26]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),t("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),t("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),t("line",{x1:"2",x2:"22",y1:"2",y2:"22"})],-1)]))):(d(),u("span",W,e[27]||(e[27]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1)])))])])]),i(o(f),{type:"submit",class:"w-full"},{default:r(()=>e[28]||(e[28]=[n(" Login ")])),_:1}),e[32]||(e[32]=t("div",{class:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border"},[t("span",{class:"relative z-10 bg-background px-2 text-muted-foreground"}," Or continue with ")],-1)),t("div",Z,[i(x,{callback:s.oneTapGoogleLoginCallback,prompt:""},{default:r(()=>[i(o(f),{variant:"outline",class:"w-full"},{default:r(()=>e[29]||(e[29]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[t("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z",fill:"currentColor"})],-1),n(" Continue with Google ")])),_:1})]),_:1},8,["callback"])]),t("div",H,[e[30]||(e[30]=n(" Don't have an account? ")),t("a",{href:"#",class:"underline underline-offset-4",onClick:e[10]||(e[10]=g(a=>s.authType="REGISTER",["prevent"]))}," Sign up ")])])],32),t("div",J,[t("img",{src:o(k),alt:"Image",class:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.5]"},null,8,K)])]),_:1})]),_:1},8,["initial","leave"])),[[w],[c,s.authType=="LOGIN"]]),h((d(),v(o(b),{class:"overflow-hidden w-full",initial:{opacity:0,y:s.authType==="LOGIN"?-40:40,scale:.1,rotateX:s.authType==="LOGIN"?"15deg":"-15deg"},enter:{opacity:1,y:0,scale:1,rotateX:"0deg",transition:{duration:600,ease:[.4,0,.2,1]}},leave:{opacity:0,y:s.authType==="LOGIN"?40:-40,scale:.1,rotateX:s.authType==="LOGIN"?"-10deg":"10deg",transition:{duration:600,ease:[.4,0,.2,1]}}},{default:r(()=>[i(o(y),{class:"grid p-0 md:grid-cols-2"},{default:r(()=>[t("form",{onSubmit:e[13]||(e[13]=g((...a)=>s.forgotPassword&&s.forgotPassword(...a),["prevent"])),class:"p-6 md:p-8"},[t("div",Q,[e[35]||(e[35]=t("div",{class:"flex flex-col items-center text-center"},[t("h1",{class:"text-2xl font-bold"},"Forgot your password?"),t("p",{class:"text-balance text-muted-foreground"}," Enter your email address to reset your password. ")],-1)),t("div",Y,[i(o(m),{for:"email"},{default:r(()=>e[33]||(e[33]=[n("Email")])),_:1}),i(o(p),{id:"forgot-password-email",type:"email",modelValue:s.forgotPasswordEmail,"onUpdate:modelValue":e[12]||(e[12]=a=>s.forgotPasswordEmail=a),placeholder:"agent@ai.com",required:""},null,8,["modelValue"])]),i(o(f),{type:"submit",class:"w-full"},{default:r(()=>e[34]||(e[34]=[n(" Send reset link ")])),_:1})])],32),t("div",_,[t("img",{src:o(k),alt:"Image",class:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.5]"},null,8,ee)])]),_:1})]),_:1},8,["initial","leave"])),[[w],[c,s.authType=="FORGOT_PASSWORD"]])]))]),_:1})]),e[36]||(e[36]=t("div",{class:"text-balance text-center text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 hover:[&_a]:text-primary"},[n(" By clicking continue, you agree to our "),t("a",{href:"#"},"Terms of Service"),n(" and "),t("a",{href:"#"},"Privacy Policy"),n(". ")],-1))])}}});export{re as default};
