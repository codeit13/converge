import{_ as A,m as I,a as H,b as U,c as d,d as i,e as p,w as l,r as x,f as t,g as c,n as k,t as u,h as z,F as D,i as M,o as a,j as R}from"./index-BEXXmzFv.js";import{_ as L}from"./Input-CqZB8EJL.js";import{_ as N}from"./Select-54bKIvxi.js";import{_ as O,a as Q}from"./CardContent-CROZv9TU.js";import{_ as E,a as K}from"./CardTitle-eiU1mWOv.js";import{_ as J}from"./CardDescription-CDStBNGv.js";import{_ as W}from"./Label-T96GMOLp.js";import{_ as G}from"./Textarea-a3Nx4Io8.js";import{_ as P,a as Z,b as X,c as q}from"./AccordionContent-DygFudaV.js";const Y={name:"KnowledgeBaseView",components:{Input:L,Button:U,Select:N,Card:Q,CardHeader:K,CardTitle:E,CardDescription:J,CardContent:O,Label:W,Textarea:G,Accordion:q,AccordionItem:X,AccordionTrigger:Z,AccordionContent:P},data(){return{sourceType:"text",content:"",searchQuery:"",searchResults:[],selectedFile:null,deleteConfirmDocId:null,expandedDocs:{}}},computed:{...H(["documents"]),isFormValid(){return this.sourceType==="text"?this.content.trim().length>0:this.sourceType==="url"?this.content.trim().startsWith("http"):this.sourceType==="file"?this.selectedFile!==null:!1}},async mounted(){await this.loadDocuments()},methods:{...I(["ragAddDocument","ragGetDocuments","ragDeleteDocument","ragSearchDocuments"]),async handleAddDocument(){if(!this.isFormValid)return;let n={sourceType:this.sourceType};this.sourceType==="file"?n.file=this.selectedFile:n.content=this.content;try{await this.ragAddDocument(n),this.content="",this.selectedFile=null,this.$refs.fileInput&&(this.$refs.fileInput.value=null),await this.loadDocuments()}catch(e){console.error("Error adding document:",e)}},handleFileChange(n){const e=n.target.files[0];e&&(this.selectedFile=e)},triggerFileUpload(){this.$refs.fileInput.click()},async handleSearch(){if(!this.searchQuery){this.searchResults=[];return}try{const n=await this.ragSearchDocuments({query:this.searchQuery});this.searchResults=n}catch(n){console.error("Error searching documents:",n)}},confirmDelete(n){this.deleteConfirmDocId=n},async proceedWithDelete(){if(this.deleteConfirmDocId)try{await this.ragDeleteDocument(this.deleteConfirmDocId),this.searchQuery&&this.searchResults.length&&await this.handleSearch(),await this.loadDocuments(),this.deleteConfirmDocId=null}catch(n){console.error("Error deleting document:",n)}},async loadDocuments(){try{await this.ragGetDocuments()}catch(n){console.error("Error loading documents:",n)}},formatFileSize(n){if(n===0)return"0 Bytes";const e=1024,h=["Bytes","KB","MB","GB"],m=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,m)).toFixed(2))+" "+h[m]},toggleExpand(n){this.$set(this.expandedDocs,n,!this.expandedDocs[n])},formatMetadata(n){if(!n)return"";let e=n;if(typeof n=="string")try{e=JSON.parse(n)}catch{return n}return JSON.stringify(e,null,2)},getDocTitle(n){const e=this.getDocMetadata(n,"title");return e||this.shortenDocId(n.doc_id)},getDocMetadata(n,e){if(!n.metadata)return null;let h=n.metadata;if(typeof h=="string")try{h=JSON.parse(h)}catch{return null}return h[e]||null},getDocSourceType(n){const e=this.getDocMetadata(n,"source");if(e){if(e.startsWith("http"))return"url";if(e.includes("."))return"file"}return"text"},shortenDocId(n){return n?n.length<=12?n:n.substring(0,6)+"..."+n.substring(n.length-6):""},formatUrl(n){if(!n)return"";try{const e=new URL(n);let h=e.hostname;if(e.pathname&&e.pathname!=="/"){const m=e.pathname.split("/"),o=m.length>2?`/${m[1]}/...`:e.pathname;h+=o}return h}catch{return n.length>30?n.substring(0,27)+"...":n}}}},$={class:"w-full flex flex-col items-center justify-center overflow-hidden relative",style:{fontFamily:"'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif"}},tt={class:"flex items-center gap-3"},et={class:"flex items-center gap-2"},nt={class:"flex flex-wrap gap-2"},rt={class:"w-full transition-all duration-200 ease-in-out"},st={key:0,class:"space-y-2"},ot={key:1,class:"space-y-2"},it={key:2,class:"space-y-2"},lt={class:"border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-lg p-4 sm:p-6 text-center hover:bg-zinc-50 dark:hover:bg-zinc-800/80 cursor-pointer transition-colors"},at={key:0},dt={class:"text-sm font-medium text-zinc-700 dark:text-zinc-300"},ct={class:"text-xs text-zinc-500 dark:text-zinc-400"},ut={key:1},xt={class:"flex justify-end mt-2"},ht={class:"space-y-3"},pt={class:"relative flex-1"},mt={class:"flex flex-col gap-4"},gt={key:0},ft={class:"font-semibold text-base mb-3 flex items-center gap-2"},kt={class:"text-xs font-normal text-zinc-500 dark:text-zinc-400"},zt={class:"space-y-3"},wt={class:"flex items-start justify-between gap-3"},vt={class:"flex-1 min-w-0"},bt={class:"font-medium text-base truncate text-zinc-800 dark:text-zinc-200"},yt={class:"text-sm text-zinc-600 dark:text-zinc-400 line-clamp-2"},_t={class:"text-xs px-2 py-1 rounded bg-zinc-100 dark:bg-zinc-700 text-zinc-600 dark:text-zinc-300 font-mono break-all max-w-full overflow-x-auto scrollbar-thin"},Ct={key:1},Dt={class:"font-semibold text-base mb-3 flex items-center gap-2"},Mt={key:0,class:"text-xs font-normal text-zinc-500 dark:text-zinc-400"},Tt={key:0,class:"text-zinc-400 italic bg-zinc-50 dark:bg-zinc-800/50 border border-dashed border-zinc-200 dark:border-zinc-700 rounded-xl p-8 text-center"},Bt={key:1},Vt={class:"p-4"},jt={class:"flex items-start justify-between gap-3"},Ft={class:"flex items-start gap-3"},St={class:"p-2 rounded-md bg-primary/5 dark:bg-primary/10 flex-shrink-0"},At={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-zinc-600 dark:text-zinc-300"},It={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-zinc-600 dark:text-zinc-300"},Ht={key:2,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-zinc-600 dark:text-zinc-300"},Ut={class:"flex-1 min-w-0"},Rt={class:"text-base font-medium text-zinc-800 dark:text-zinc-200 truncate"},Lt={class:"text-xs text-zinc-500 dark:text-zinc-400 truncate"},Nt=["onClick"],Ot={class:"text-sm text-zinc-600 dark:text-zinc-400 line-clamp-2 mt-2"},Qt={class:"mt-2 space-y-1"},Et={key:0,class:"flex items-center gap-1.5 text-xs font-bold text-zinc-500 dark:text-zinc-400"},Kt=["href"],Jt={class:"space-y-3"},Wt={class:"text-sm text-zinc-600 dark:text-zinc-400"},Gt={key:0,class:"flex items-center gap-1.5 text-xs text-zinc-500 dark:text-zinc-400"},Pt={class:"capitalize"},Zt={key:1},Xt={class:"text-xs text-zinc-600 dark:text-zinc-400"},qt={key:2,class:"pt-2"},Yt={class:"text-xs bg-secondary/5 dark:bg-secondary/10 p-2 rounded text-zinc-600 dark:text-zinc-300 overflow-x-auto scrollbar-thin"},$t={key:0,class:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50"},te={class:"bg-white dark:bg-zinc-800 rounded-lg shadow-lg max-w-md w-full p-6 mx-4"},ee={class:"flex justify-end gap-3"};function ne(n,e,h,m,o,s){const w=x("CardTitle"),v=x("CardDescription"),b=x("CardHeader"),f=x("Label"),T=x("Textarea"),y=x("Input"),g=x("Button"),_=x("CardContent"),C=x("Card"),B=x("AccordionTrigger"),V=x("AccordionContent"),j=x("AccordionItem"),F=x("Accordion");return a(),d("div",$,[i(C,{class:"w-fit flex flex-col flex-1 overflow-hidden shadow-md border border-zinc-200 dark:border-zinc-700 m-0 sm:m-4 md:m-6 rounded-xl bg-transparent"},{default:l(()=>[i(b,{class:"border-b border-zinc-200 dark:border-zinc-700 py-4 px-4 sm:py-5 sm:px-6 flex flex-col md:flex-row md:items-center md:justify-between gap-2"},{default:l(()=>[t("div",tt,[t("div",et,[e[13]||(e[13]=t("div",{class:"p-2 rounded-lg"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-zinc-700 dark:text-zinc-300"},[t("path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"}),t("path",{d:"M18 14h-8"}),t("path",{d:"M15 18h-5"}),t("path",{d:"M10 6h8v4h-8V6Z"})])],-1)),t("div",null,[i(w,{class:"font-display text-xl md:text-2xl dark:text-zinc-100"},{default:l(()=>e[11]||(e[11]=[c("Knowledge Base")])),_:1}),i(v,{class:"text-sm mt-1 text-zinc-600 dark:text-zinc-400"},{default:l(()=>e[12]||(e[12]=[c(" Store and search through your custom data sources ")])),_:1})])])])]),_:1}),i(_,{class:"flex flex-col gap-5 sm:gap-7 px-4 py-4 sm:px-6 sm:py-6 flex-1 overflow-y-auto custom-scrollbar"},{default:l(()=>[i(C,{class:"bg-transparent border border-zinc-200 dark:border-zinc-700 shadow-sm"},{default:l(()=>[i(b,{class:"py-3 px-4"},{default:l(()=>[i(w,{class:"text-base dark:text-zinc-100"},{default:l(()=>e[14]||(e[14]=[c("Add to Knowledge Base")])),_:1}),i(v,{class:"text-xs text-zinc-600 dark:text-zinc-400"},{default:l(()=>e[15]||(e[15]=[c(" Choose a source type and add content to your knowledge base ")])),_:1})]),_:1}),i(_,{class:"py-3 px-4"},{default:l(()=>[t("form",{onSubmit:e[7]||(e[7]=z((...r)=>s.handleAddDocument&&s.handleAddDocument(...r),["prevent"])),class:"flex flex-col gap-4"},[t("div",nt,[t("button",{type:"button",onClick:e[0]||(e[0]=r=>o.sourceType="text"),class:k(["px-3 py-1.5 text-sm rounded-full transition-all duration-200 flex gap-2 items-center",o.sourceType==="text"?"bg-zinc-200 dark:bg-zinc-700 text-zinc-800 dark:text-zinc-200 font-medium":"bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-300"])},e[16]||(e[16]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"4 7 4 4 20 4 20 7"}),t("line",{x1:"9",x2:"15",y1:"20",y2:"20"}),t("line",{x1:"12",x2:"12",y1:"4",y2:"20"})],-1),c(" Text ")]),2),t("button",{type:"button",onClick:e[1]||(e[1]=r=>o.sourceType="url"),class:k(["px-3 py-1.5 text-sm rounded-full transition-all duration-200 flex gap-2 items-center",o.sourceType==="url"?"bg-zinc-200 dark:bg-zinc-700 text-zinc-800 dark:text-zinc-200 font-medium":"bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-300"])},e[17]||(e[17]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1),c(" URL ")]),2),t("button",{type:"button",onClick:e[2]||(e[2]=r=>o.sourceType="file"),class:k(["px-3 py-1.5 text-sm rounded-full transition-all duration-200 flex gap-2 items-center",o.sourceType==="file"?"bg-zinc-200 dark:bg-zinc-700 text-zinc-800 dark:text-zinc-200 font-medium":"bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-300"])},e[18]||(e[18]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),t("polyline",{points:"17 21 17 13 7 13 7 21"}),t("polyline",{points:"7 3 7 8 15 8"})],-1),c(" File ")]),2)]),t("div",rt,[o.sourceType==="text"?(a(),d("div",st,[i(f,{for:"content",class:"text-sm text-zinc-700 dark:text-zinc-300"},{default:l(()=>e[19]||(e[19]=[c("Text Content")])),_:1}),i(T,{modelValue:o.content,"onUpdate:modelValue":e[3]||(e[3]=r=>o.content=r),id:"content",placeholder:"Enter text to add to your knowledge base...",class:"resize-none focus:ring-1 focus:ring-zinc-400 dark:focus:ring-zinc-600 transition-all duration-200 bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-700 text-zinc-900 dark:text-zinc-200 placeholder-zinc-400 dark:placeholder-zinc-500 w-full",rows:"4"},null,8,["modelValue"]),e[20]||(e[20]=t("p",{class:"text-xs text-zinc-500 dark:text-zinc-400"}," Add paragraphs, snippets, or any text content ",-1))])):p("",!0),o.sourceType==="url"?(a(),d("div",ot,[i(f,{for:"content",class:"text-sm text-zinc-700 dark:text-zinc-300"},{default:l(()=>e[21]||(e[21]=[c("URL")])),_:1}),i(y,{modelValue:o.content,"onUpdate:modelValue":e[4]||(e[4]=r=>o.content=r),id:"content",placeholder:"https://example.com/article",class:"focus:ring-1 focus:ring-zinc-400 dark:focus:ring-zinc-600 transition-all duration-200 bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-700 text-zinc-900 dark:text-zinc-200 placeholder-zinc-400 dark:placeholder-zinc-500 w-full"},null,8,["modelValue"]),e[22]||(e[22]=t("p",{class:"text-xs text-zinc-500 dark:text-zinc-400"}," The system will extract and process content from this URL ",-1))])):p("",!0),o.sourceType==="file"?(a(),d("div",it,[i(f,{for:"fileInput",class:"text-sm text-zinc-700 dark:text-zinc-300"},{default:l(()=>e[23]||(e[23]=[c("Upload File")])),_:1}),t("div",lt,[t("input",{type:"file",ref:"fileInput",id:"fileInput",accept:"*",class:"hidden",onChange:e[5]||(e[5]=(...r)=>s.handleFileChange&&s.handleFileChange(...r))},null,544),t("div",{class:"flex flex-col items-center justify-center gap-2",onClick:e[6]||(e[6]=(...r)=>s.triggerFileUpload&&s.triggerFileUpload(...r))},[e[25]||(e[25]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-zinc-400 dark:text-zinc-500"},[t("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t("polyline",{points:"17 8 12 3 7 8"}),t("line",{x1:"12",x2:"12",y1:"3",y2:"15"})],-1)),o.selectedFile?(a(),d("div",at,[t("p",dt,u(o.selectedFile.name),1),t("p",ct,u(s.formatFileSize(o.selectedFile.size)),1)])):(a(),d("div",ut,e[24]||(e[24]=[t("p",{class:"text-sm font-medium text-zinc-700 dark:text-zinc-300"}," Drag & drop or click to upload ",-1),t("p",{class:"text-xs text-zinc-500 dark:text-zinc-400"}," Supports PDF, TXT, DOCX, and more ",-1)])))])])])):p("",!0)]),t("div",xt,[i(g,{type:"submit",variant:"default",class:k(["w-full sm:w-auto group transition-all duration-200 hover:shadow-md bg-zinc-800 hover:bg-zinc-700 text-white dark:bg-zinc-700 dark:hover:bg-zinc-600 dark:text-zinc-100",{"opacity-50 cursor-not-allowed":!s.isFormValid}]),disabled:!s.isFormValid},{default:l(()=>e[26]||(e[26]=[t("span",{class:"flex items-center gap-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"group-hover:translate-x-0.5 transition-transform duration-200"},[t("path",{d:"M5 12h14"}),t("path",{d:"m12 5 7 7-7 7"})]),c(" Add to Knowledge Base ")],-1)])),_:1},8,["disabled","class"])])],32)]),_:1})]),_:1}),t("div",ht,[i(f,{for:"searchQuery",class:"text-sm font-medium text-zinc-700 dark:text-zinc-300"},{default:l(()=>e[27]||(e[27]=[c("Search Knowledge Base")])),_:1}),t("form",{onSubmit:e[9]||(e[9]=z((...r)=>s.handleSearch&&s.handleSearch(...r),["prevent"])),class:"flex flex-col sm:flex-row gap-2 relative"},[t("div",pt,[i(y,{modelValue:o.searchQuery,"onUpdate:modelValue":e[8]||(e[8]=r=>o.searchQuery=r),id:"searchQuery",placeholder:"Search for documents, facts, or answers...",class:"pl-10 focus:ring-1 focus:ring-zinc-400 dark:focus:ring-zinc-600 transition-all duration-200 bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-700 text-zinc-900 dark:text-zinc-200 placeholder-zinc-400 dark:placeholder-zinc-500 w-full"},null,8,["modelValue"]),e[28]||(e[28]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 dark:text-zinc-500"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("path",{d:"m21 21-4.3-4.3"})],-1))]),i(g,{type:"submit",variant:"outline",class:"bg-white dark:bg-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-700 border-zinc-300 dark:border-zinc-700 hover:border-zinc-400 dark:hover:border-zinc-600 transition-all duration-200 text-zinc-700 dark:text-zinc-300"},{default:l(()=>e[29]||(e[29]=[c(" Search ")])),_:1})],32)]),t("div",mt,[o.searchResults.length?(a(),d("div",gt,[t("div",ft,[e[30]||(e[30]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-zinc-700 dark:text-zinc-300"},[t("path",{d:"m22 2-7 20-4-9-9-4Z"}),t("path",{d:"M22 2 11 13"})],-1)),e[31]||(e[31]=t("span",{class:"text-zinc-800 dark:text-zinc-100"},"Search Results",-1)),t("span",kt,u(o.searchResults.length)+" document(s) found",1)]),t("div",zt,[(a(!0),d(D,null,M(o.searchResults,r=>(a(),d("div",{key:r.doc_id,class:"rounded-xl border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 hover:shadow-md transition-all duration-200 p-4 flex flex-col gap-3"},[t("div",wt,[t("div",vt,[t("div",bt,u(r.doc_id),1),t("p",yt,u(r.content_preview),1)]),i(g,{variant:"ghost",size:"icon",class:"text-zinc-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 flex-shrink-0 -mt-1 -mr-2",title:"Delete document",onClick:S=>s.confirmDelete(r.doc_id)},{default:l(()=>e[32]||(e[32]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M3 6h18"}),t("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),t("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),t("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),t("line",{x1:"14",x2:"14",y1:"11",y2:"17"})],-1)])),_:2},1032,["onClick"])]),t("div",_t,u(r.metadata&&typeof r.metadata=="object"?JSON.stringify(r.metadata,null,2):r.metadata),1)]))),128))])])):(a(),d("div",Ct,[t("div",Dt,[e[33]||(e[33]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-zinc-700 dark:text-zinc-300"},[t("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),t("path",{d:"M14 2v6h6"})],-1)),e[34]||(e[34]=t("span",{class:"text-zinc-800 dark:text-zinc-100"},"Documents",-1)),n.documents.length?(a(),d("span",Mt,u(n.documents.length)+" document(s) in database",1)):p("",!0)]),n.documents.length===0?(a(),d("div",Tt,e[35]||(e[35]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"mx-auto mb-3 text-zinc-300 dark:text-zinc-600"},[t("path",{d:"M2 9V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1"}),t("path",{d:"M2 13h10"}),t("path",{d:"m5 10-3 3 3 3"})],-1),t("p",{class:"mb-1 text-zinc-500 dark:text-zinc-400"}," No documents in your knowledge base yet ",-1),t("p",{class:"text-sm text-zinc-400 dark:text-zinc-500"}," Add text, URLs, or files using the form above ",-1)]))):(a(),d("div",Bt,[i(F,{collapsible:!0,class:"border-none space-y-4"},{default:l(()=>[(a(!0),d(D,null,M(n.documents,r=>(a(),R(j,{key:r.doc_id,value:r.doc_id,class:"border-none rounded-xl border border-zinc-200 dark:border-zinc-700 bg-primary/10 dark:bg-secondary/10 hover:shadow-md transition-all duration-200 overflow-hidden group"},{default:l(()=>[t("div",Vt,[t("div",jt,[t("div",Ft,[t("div",St,[s.getDocSourceType(r)==="url"?(a(),d("svg",At,e[36]||(e[36]=[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},null,-1),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},null,-1)]))):s.getDocSourceType(r)==="file"?(a(),d("svg",It,e[37]||(e[37]=[t("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"},null,-1),t("polyline",{points:"14 2 14 8 20 8"},null,-1)]))):(a(),d("svg",Ht,e[38]||(e[38]=[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},null,-1),t("path",{d:"M14 2v6h6"},null,-1),t("path",{d:"M16 13H8"},null,-1),t("path",{d:"M16 17H8"},null,-1),t("path",{d:"M10 9H8"},null,-1)])))]),t("div",Ut,[t("h4",Rt,u(s.getDocTitle(r)),1),t("p",Lt," ID: "+u(s.shortenDocId(r.doc_id)),1)])]),t("button",{onClick:z(S=>s.confirmDelete(r.doc_id),["stop"]),class:"text-zinc-400 hover:text-red-500 dark:text-zinc-500 dark:hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100",title:"Delete document"},e[39]||(e[39]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M3 6h18"}),t("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),t("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})],-1)]),8,Nt)]),t("p",Ot,u(r.content_preview),1),t("div",Qt,[s.getDocMetadata(r,"source")?(a(),d("div",Et,[e[40]||(e[40]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-secondary dark:text-secondary"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1)),t("a",{href:s.getDocMetadata(r,"source"),target:"_blank",class:"text-secondary dark:text-secondary truncate",title:"Open source URL"},u(s.formatUrl(s.getDocMetadata(r,"source"))),9,Kt)])):p("",!0)])]),i(B,{class:"px-4 py-2 text-xs text-black hover:text-black/80 dark:text-white dark:hover:text-white/80 transition-colors border-t border-zinc-100 dark:border-zinc-700/50 hover:bg-zinc-50 dark:hover:bg-zinc-800/80"},{default:l(()=>e[41]||(e[41]=[t("span",null,"View Details",-1)])),_:1}),i(V,{class:"px-4 pb-4 pt-2 bg-zinc-50 dark:bg-zinc-800/80 border-t border-zinc-100 dark:border-zinc-700/50"},{default:l(()=>[t("div",Jt,[t("div",null,[e[42]||(e[42]=t("div",{class:"text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1"}," Content: ",-1)),t("p",Wt,u(r.content_preview),1)]),s.getDocMetadata(r,"language")?(a(),d("div",Gt,[e[43]||(e[43]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-primary dark:text-primary-foreground"},[t("path",{d:"m5 8 6 6"}),t("path",{d:"m4 14 10-10 6 6-10 10-6-6z"})],-1)),t("span",Pt,u(s.getDocMetadata(r,"language")),1)])):p("",!0),s.getDocMetadata(r,"description")?(a(),d("div",Zt,[e[44]||(e[44]=t("div",{class:"text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1"}," Description: ",-1)),t("div",Xt,u(s.getDocMetadata(r,"description")),1)])):p("",!0),r.metadata?(a(),d("div",qt,[e[45]||(e[45]=t("div",{class:"text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1"}," Full Metadata: ",-1)),t("pre",Yt,u(s.formatMetadata(r.metadata)),1)])):p("",!0)])]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})]))]))])]),_:1})]),_:1}),o.deleteConfirmDocId?(a(),d("div",$t,[t("div",te,[e[48]||(e[48]=t("h3",{class:"text-lg font-semibold mb-2 text-zinc-800 dark:text-zinc-100"}," Confirm Delete ",-1)),e[49]||(e[49]=t("p",{class:"text-zinc-600 dark:text-zinc-400 mb-4"}," Are you sure you want to delete this document? This action cannot be undone. ",-1)),t("div",ee,[i(g,{variant:"outline",class:"border-zinc-300 dark:border-zinc-600 text-zinc-700 dark:text-zinc-300",onClick:e[10]||(e[10]=r=>o.deleteConfirmDocId=null)},{default:l(()=>e[46]||(e[46]=[c("Cancel")])),_:1}),i(g,{variant:"destructive",class:"bg-red-500 hover:bg-red-600 text-white",onClick:s.proceedWithDelete},{default:l(()=>e[47]||(e[47]=[t("span",{class:"flex items-center gap-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M3 6h18"}),t("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),t("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]),c(" Delete Document ")],-1)])),_:1},8,["onClick"])])])])):p("",!0)])}const xe=A(Y,[["render",ne],["__scopeId","data-v-4ca6cf96"]]);export{xe as default};
