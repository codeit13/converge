import{D as B,aW as F,aQ as T,k as V,p as m,J as j,j as v,o as u,w as _,f as I,A as O,v as S,y as s,ap as M,q as K,Y as C,aG as L,u as Y,l as z,e as w,c as h,F as G,i as H,aX as J,a4 as Q,a5 as U,a6 as W}from"./index-BEXXmzFv.js";import{a as X,i as A}from"./Textarea-a3Nx4Io8.js";function Z(t){return B(()=>{var a;return F(t)?!!((a=T(t))!=null&&a.closest("form")):!0})}const ee=V({__name:"BubbleSelect",props:{autocomplete:{},autofocus:{type:Boolean},disabled:{type:Boolean},form:{},multiple:{type:Boolean},name:{},required:{type:Boolean},size:{},value:{}},setup(t){const a=t,e=m();return j(()=>a.value,(l,r)=>{const d=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==r&&y&&e.value){const n=new Event("change",{bubbles:!0});y.call(e.value,l),e.value.dispatchEvent(n)}}),(l,r)=>(u(),v(s(M),{"as-child":""},{default:_(()=>[I("select",O({ref_key:"selectElement",ref:e},a),[S(l.$slots,"default")],16)]),_:3}))}}),le=[" ","Enter","ArrowUp","ArrowDown"],re=[" ","Enter"],ie=10;function ue(t,a,e){return t===void 0?!1:Array.isArray(t)?t.some(l=>q(l,a,e)):q(t,a,e)}function q(t,a,e){return t===void 0||a===void 0?!1:typeof t=="string"?t===a:typeof e=="function"?e(t,a):typeof e=="string"?(t==null?void 0:t[e])===(a==null?void 0:a[e]):X(t,a)}const te={key:0,value:""},[de,oe]=z("SelectRoot"),ae=V({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{default:void 0},by:{},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(t,{emit:a}){const e=t,l=a,{required:r,disabled:d,multiple:i,dir:y}=K(e),n=C(e,"modelValue",l,{defaultValue:e.defaultValue??(i.value?[]:void 0),passive:e.modelValue===void 0,deep:!0}),g=C(e,"open",l,{defaultValue:e.defaultOpen,passive:e.open===void 0}),E=m(),b=m(),P=m({x:0,y:0}),R=B(()=>{var o;return i.value&&Array.isArray(n.value)?((o=n.value)==null?void 0:o.length)===0:A(n.value)});L({isProvider:!0});const k=Y(y),N=Z(E),p=m(new Set),x=B(()=>Array.from(p.value).map(o=>o.value).join(";"));function $(o){if(i.value){const c=Array.isArray(n.value)?[...n.value]:[],f=c.findIndex(D=>q(D,o,e.by));f===-1?c.push(o):c.splice(f,1),n.value=[...c]}else n.value=o}return oe({triggerElement:E,onTriggerChange:o=>{E.value=o},valueElement:b,onValueElementChange:o=>{b.value=o},contentId:"",modelValue:n,onValueChange:$,by:e.by,open:g,multiple:i,required:r,onOpenChange:o=>{g.value=o},dir:k,triggerPointerDownPosRef:P,disabled:d,isEmptyModelValue:R,optionsSet:p,onOptionAdd:o=>p.value.add(o),onOptionRemove:o=>p.value.delete(o)}),(o,c)=>(u(),v(s(J),null,{default:_(()=>[S(o.$slots,"default",{modelValue:s(n),open:s(g)}),s(N)?(u(),v(ee,{key:x.value,"aria-hidden":"true",tabindex:"-1",multiple:s(i),required:s(r),name:o.name,autocomplete:o.autocomplete,disabled:s(d),value:s(n)},{default:_(()=>[s(A)(s(n))?(u(),h("option",te)):w("",!0),(u(!0),h(G,null,H(Array.from(p.value),f=>(u(),h("option",O({key:f.value??"",ref_for:!0},f),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):w("",!0)]),_:3}))}}),pe={__name:"Select",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},by:{type:[String,Function],required:!1},dir:{type:String,required:!1},multiple:{type:Boolean,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(t,{emit:a}){const r=Q(t,a);return(d,i)=>(u(),v(s(ae),U(W(s(r))),{default:_(()=>[S(d.$slots,"default")]),_:3},16))}};export{ie as C,le as O,re as S,pe as _,de as i,oe as p,Z as u,ue as v};
